---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by sunshuo.
--- DateTime: 2023/6/1 10:42
--- 动效组件
---@class AniEffectObj:LuaObj
local AniEffectObj = class("AniEffectObj", LuaObj)

function AniEffectObj:Ctor(prefabPath, gameObject, parent, log)
    AniEffectObj.super.Ctor(self, prefabPath, gameObject, parent, log)
    --DelayedFrameCall(happyCall(self, self.Show))
end

function AniEffectObj:PlayShowAnimation()
    if self.showSeq then
        return
    end
    AniEffectObj.super.Show(self)
    self.showSeq = DOTween.Sequence()
    self:ShowAni()
    self.showSeq:AppendCallback(function()
        self.showSeq = nil
    end)
end

function AniEffectObj:PlayHideAnimation()
    if self.hideSeq then
        return
    end
    self.hideSeq = DOTween.Sequence()
    self:HideAni()
    self.hideSeq:AppendCallback(function()
        AniEffectObj.super.Hide(self)
        self.hideSeq = nil
    end)
end

function AniEffectObj:ShowAni()
end

function AniEffectObj:HideAni()
end

function AniEffectObj:Show(immedia)
    if self.hideSeq then
        self.hideSeq:Kill()
    end
    if immedia == true then
        AniEffectObj.super.Show(self)
        self:ShowAni(true)
    else
        self:PlayShowAnimation()
    end
end

function AniEffectObj:Hide(immedia)
    if self.showSeq then
        self.showSeq:Kill()
    end
    if immedia == true then
        AniEffectObj.super.Hide(self)
        self:HideAni(true)
    else
        self:PlayHideAnimation()
    end
end

return AniEffectObj